/**
 *
 * Layout helpers
 *
 * ----------------------------------------------------------------------------
 * 
 * Structure:
 *
 *    
 *		1. Inline block
 *      2. Positioning - Absolute, Floating and Clearfixing 
 *      3. Generic blocks
 *      4. Media blocks
 *      5. Inline Grid  
 *      6. Arrows  
 *      7. Inline Block 
 *      8. Icon block
 *
 *
 *
 * ----------------------------------------------------------------------------
 *
 */

/**
 * 1. Inline block
 * ----------------------------------------------------------------------------
 */

.inline-block {
    @extend %inline-block;
}

/**
 * 2. Positioning - Absolute, Floating and Clearfixing 
 * ----------------------------------------------------------------------------
 */

.left {
	float:left;
}

.right {
	float:right;
}

.clearfix{
    @extend %clearfix;
}

.relative {
    position: relative;
}

    .absolute{
        @extend %absolute;
    }
    .absolute__bottom-left {
    	@extend %absolute;
    	bottom:0;
    	left:0;
    }

    .absolute__bottom-right {
    	@extend %absolute;
    	bottom:0;
    	right:0;
    }

    .absolute__top-left {
    	@extend %absolute;
    	top:0;
    	left:0;
    }

    .absolute__top-right {
    	@extend %absolute;
    	top:0;
    	right:0;
    }


/**
 * 3. Generic blocks
 * ----------------------------------------------------------------------------

 */

/*
    making sure the first element has no margin on it 
*/

.block__stacked > :first-child,
.block > :first-child, 
.section > :first-child {
    margin-top:0;
}

/* 
 adding a base margin-top to all block elements 
*/
%block {
   margin-top:$xm;
}

/* 
 removing a margin-top to all block elements 
*/

.block__stacked {
   /*only use this id we don't want a top margin on it */
   margin-top:0!important;
}

    .block--xl {
        @extend %block;
        padding: $base-spacing-unit * 2 $base-spacing-unit * 4; 
    }

    .block--l {
        @extend %block;
        padding: $base-spacing-unit * 1.5 $base-spacing-unit * 3;
    }

    .block--m {
        @extend %block;
        padding: $base-spacing-unit $base-spacing-unit * 2;
    }

    .block--s {
        @extend %block;
        padding: $base-spacing-unit / 1.5 $base-spacing-unit / 2;
    }

    .block--xs {
        @extend %block;
        padding: $base-spacing-unit / 2 $base-spacing-unit / 4;
    }






//---- work out ----------------------------------------

//.block--tight {
//    padding-top: $base-spacing-unit / 2;
 //   padding-bottom: $base-spacing-unit / 2;
//}

//.block--bleed {
//	padding: 0;
//}

//    .block--bleed__padding {
//        padding: $base-spacing-unit $base-spacing-unit * 2;
//    }

//.block--mobile {
	//@include media(mobile) {
	//	padding: 1em;
	//}
//}

/**
 * ?. wrapper blocks
 * ----------------------------------------------------------------------------
 */


.section--xl {
    margin-top:$mxx;
}

.section--l {
    margin-top:$mx;
}

.section--m {
    margin-top:$m;
}

.section--s {
    margin-top:$xm;
}

.section--xs {
     margin-top:$xxm;
}


/**
 * 5. Float an image to the left, with a clearfixed block of content to the right.
 * ----------------------------------------------------------------------------
 <div class='media'>
	<img src='/some/image.png' class='media__image'>
	<div class='media__body'>
       The text!
	</div>
 </div>
 */
.media {
	@extend .clearfix;
	margin-top: $base-spacing-unit;
}

	.media__image{
		float: left;
        margin-right:$base-spacing-unit;
	}

	.media__body{
		@extend .overflow-hidden;
	}	

.media--rev {
	@extend .clearfix;
	margin-top: $base-spacing-unit;
}

	.media--rev > .media__image{
		float: right;
        margin-left:$base-spacing-unit;
	}

	.media--rev > .media__body{
		@extend .overflow-hidden;
	}




/**
 * 6. Inline block grid
 * -----------------------------------------------------------------------------
 *
 * [1] Sets the child elements to take up full justified width of the parent
 * [2] Overcomes an issue where the :after element blows out the bottom.
 * [3] A fix for Internet Explorer 8/9
 * 
 */
.grid {
    text-align: justify;                /* [1] */
    font-size: 0;                       /* [2] */
    text-justify: distribute-all-lines; /* [3] */
}

	.grid > *{
	    @extend .grid__item;
	}

    .grid__item {
        @extend .inline-block;
        //@extend %type__size_14;
        font-size:16px;
        text-align: left;
        vertical-align: top;
    }

    .grid:after,
    .grid__break {
        @extend .inline-block;
        content: '';
        height: 0;
        width:100%;
    }
/**
 * Vertical align these grid items in the middle!
 */
.grid--middle > .grid__item {
    vertical-align: middle;
}
    .g--1-1{
        width: 100%;
    }
    .g--1-2 {
        width: 50%;
    }
    .g--1-4 {
        width: 25%;
    }
    .g--3-4 {
        width: 75%;
    }

    .g--9-10{
        width: 80%;
    }
    .g--1-10{
        width: 20%;
    }

@media only screen and (max-width: 30em) {
    .g-m--1-1{
        width: 100%;
    }
    .g-m--1-2{
        width: 50%;
    }
    .g-m--9-10{
        width: 90%;
    }
    .g-m--1-10{
        width: 10%;
    }
    .g-m--8-10{
        width: 80%;
    }
    .g-m--2-10{
        width: 20%;
    }
}



.overflow-hidden {
	overflow: hidden;
}



/**
 * Append vs Prepend
 * ----------------------------------------------------------------------------
 */

/**
 * Place something before an element
 * ----------------------------------------------------------------------------
 */
.prepend{
    &:before{
        content: attr(data-prepend);
        display: inline-block;
    }
}

/**
 * Place something after an element
 * ----------------------------------------------------------------------------
 */
.append{
    &:after{
        content: attr(data-append);
        display: inline-block;
    }
}



/**
 * Arrows
 * ----------------------------------------------------------------------------
 * $base-spacing-unit: 1.4em
 *
 *
 * Apply the modifier classes to the parent. For instance, this will put an
 * arrow in the top left corner of the containing div:
 *
 * <div class='arrow__left'>
 *        <i class='arrow arrow_top'></i>
 * </div>
 *
 */

.arrow{/*i,span*/
    @extend %inline-block;
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    border-width: .4em;
}

    .arrow-top{
        border-top-width: 0;
        border-bottom-color: inherit;
        top: -.4em;
    }

    .arrow-bottom{
        border-bottom-width: 0;
        border-top-color: inherit;
        bottom: -.4em;
    }

    .arrow-left{
        border-left-width: 0;
        border-right-color: inherit;
        left: -.4em;
    }

    .arrow-right{
        border-right-width: 0;
        border-left-color: inherit;
        right: -.4em;
    }

.arrow--left,
.arrow--right,
.arrow--side,
.arrow--center{/*div,block*/
    position:relative;
}

    .arrow--center .arrow{
        left:0;
        right:0;
        margin-left:auto;
        margin-right:auto;
    }

    .arrow--left .arrow{
        left: $base-spacing-unit;
    }

    .arrow--right .arrow{
        right: $base-spacing-unit;
    }

    .arrow--side .arrow{
        top: $base-spacing-unit;
    }

/**
 * Icon block 
 * ----------------------------------------------------------------------------
 */

.icon-text,
.icon-text--rev{/* a, div, etc */
    @extend %inline-block;
    display:inline-block; //CHECK why this isn't extending
}

    .i{
        overflow: hidden; /* for IE6 */
        vertical-align: middle;
        /* SMACSS line-height: 0; ? */
        .icon-text &,
        .btn--icon &{
            margin-right: $base-spacing-unit/3;
        }

        .icon-text--rev &,
        .btn--icon-rev &{
            margin-left: $base-spacing-unit/3;
        }
    }

//dummy icon for this tut :) 
.icon-placeholder {
    
    background-image:url("/assets/images/icon-placeholder.png");
    width:40px;
    height:40px;
    display:inline-block;
}
